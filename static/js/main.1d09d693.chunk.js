(this["webpackJsonpyal-test-app"]=this["webpackJsonpyal-test-app"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(7),a=r.n(c),i=(r(13),r(14),r(2)),u=r(3),o=r(5),l=r(4),d=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"getUsers",value:function(){for(var e=[],t=0;t<26;t++)e.push([]);return fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){for(var r=0;r<t.length;r++){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t[r].firstName[0].toUpperCase());e[n].push(t[r])}return e}))}}]),e}(),j=r(8),b=s.a.createContext({});b.displayName="UserContext";var h=r(0);function O(e){return Object(h.jsx)("div",{className:"block-radio user-"+e.id,children:Object(h.jsxs)("label",{htmlFor:"user-input-"+e.id,children:[Object(h.jsx)("input",{type:"radio",name:"user-input-"+e.id,value:e.act,checked:e.act,onChange:e.toggle}),e.text]})},e.id)}function v(e){var t=Object(n.useState)(0),r=Object(j.a)(t,2),s=r[0],c=r[1],a=Object(n.useContext)(b);function i(t){c(t),a[e.user.id]={user:e.user,active:t}}return Object(h.jsx)(b.Provider,{value:a,children:Object(h.jsxs)("div",{className:"employee",children:[Object(h.jsxs)("div",{className:"user-names",userActive:s,children:[e.user.firstName," ",e.user.lastName]}),Object(h.jsx)(O,{id:e.user.id,act:s?0:1,toggle:function(){return i(0)},text:"not active"}),Object(h.jsx)(O,{id:e.user.id,act:s?1:0,toggle:function(){return i(1)},text:"active"})]},e.user.id)})}var m=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"one-letter",children:[Object(h.jsx)("div",{className:"letter-column",children:this.props.letter},this.props.index),this.props.users.length?this.props.users.map((function(e){return Object(h.jsx)(v,{user:e})})):Object(h.jsx)("div",{className:"employee",children:"No Employees"})]})}}]),r}(n.Component),p=m;function f(e){var t=new Date(e);return t.toLocaleDateString("en-US",{day:"2-digit"})+" "+t.toLocaleDateString("en-US",{month:"long"})+", "+t.getFullYear()+" year"}function x(e){var t=Object.values(e).filter((function(e){return 1===e.active})),r=function(){for(var e=[],t=0;t<12;t++)e.push([]);return e}();return t.forEach((function(e){var t;r[(t=e.dob,new Date(t))].push(e)})),r}function g(e){return Object(h.jsxs)("li",{className:"user-birthday",children:[e.user.firstName," ",e.user.firstName," - ",f(e.user.dob)]},e.user.id)}function y(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"block-month",children:(t=e.index,["January","February","March","April","May","June","July","August","September","October","November","December"][t])}),Object(h.jsx)("div",{children:Object(h.jsx)("ul",{className:"list-birthday",children:e.users.map((function(e){return Object(h.jsx)(g,{user:e})}))})})]});var t}function N(e){var t=x(Object(n.useContext)(b));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"header",children:"Employees birthday"}),t.map((function(e,t){return e.length?Object(h.jsx)(y,{number:t,users:e}):Object(h.jsx)("div",{})}))]})}var C=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state={error:null,isLoaded:!1,users:[]},n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;d.getUsers().then((function(t){e.setState({isLoaded:!0,users:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,r=e.isLoaded,n=e.users;return t?Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Error ",t.message]})}):r?Object(h.jsx)(b.Provider,{value:{},children:Object(h.jsxs)("div",{className:"UsersPage",children:[Object(h.jsxs)("div",{className:"Users",children:[Object(h.jsx)("div",{className:"header",children:"Employees"}),Object(h.jsx)("div",{className:"user-list",children:Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map((function(e,t){return Object(h.jsx)(p,{letter:e,index:t,users:n[t]})}))})]}),Object(h.jsx)("div",{className:"BirthDays",children:Object(h.jsx)(N,{})})]})}):Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:"Loading"})})}}]),r}(n.Component);var S=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(C,{})})},F=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,17)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),F()}},[[16,1,2]]]);
//# sourceMappingURL=main.1d09d693.chunk.js.map
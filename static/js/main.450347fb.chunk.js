(this["webpackJsonpyal-test-app"]=this["webpackJsonpyal-test-app"]||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(10),a=r.n(c),i=(r(15),r(5)),u=r(4),o=r(6),l=(r(16),r(2)),j=r(3),d=r(8),b=r(7),h=function(){function e(){Object(l.a)(this,e)}return Object(j.a)(e,null,[{key:"getUsers",value:function(){for(var e=[],t=0;t<26;t++)e.push([]);return fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).then((function(t){for(var r=0;r<t.length;r++){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t[r].firstName[0].toUpperCase());e[n].push(t[r])}return e}))}}]),e}(),O=s.a.createContext({});O.displayName="UserContext";var m=r(0);function f(e){return Object(m.jsx)("div",{className:"block-radio user-"+e.id,children:Object(m.jsxs)("label",{htmlFor:"user-input-"+e.id,children:[Object(m.jsx)("input",{type:"radio",name:"user-input-"+e.id,value:e.act,checked:e.act,onChange:e.toggle}),e.text]})},e.id)}function v(e){var t=Object(n.useState)(0),r=Object(o.a)(t,2),s=r[0],c=r[1],a=Object(n.useContext)(O);function i(t){c(t),a.update(e.user,t)}return Object(m.jsxs)("div",{className:"employee",children:[Object(m.jsxs)("div",{className:"user-names",userActive:s,children:[e.user.firstName," ",e.user.lastName]}),Object(m.jsx)(f,{id:e.user.id,act:s?0:1,toggle:function(){return i(0)},text:"not active"}),Object(m.jsx)(f,{id:e.user.id,act:s?1:0,toggle:function(){return i(1)},text:"active"})]})}var p=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"one-letter",children:[Object(m.jsx)("div",{className:"letter-column",children:this.props.letter}),this.props.users.length?this.props.users.map((function(e){return Object(m.jsx)(v,{user:e},e.id)})):Object(m.jsx)("div",{className:"employee",children:"No Employees"})]})}}]),r}(n.Component),x=p;function g(e){var t=new Date(e);return t.toLocaleDateString("en-US",{day:"2-digit"})+" "+t.toLocaleDateString("en-US",{month:"long"})+", "+t.getFullYear()+" year"}function y(e){return Object(m.jsxs)("li",{className:"user-birthday",children:[e.user.firstName," ",e.user.lastName," - ",g(e.user.dob)]},e.user.id)}function N(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"block-month",children:(t=e.number,["January","February","March","April","May","June","July","August","September","October","November","December"][t])}),Object(m.jsxs)("div",{children:[e.users.length>0&&Object(m.jsx)("ul",{className:"list-birthday",children:e.users.map((function(e){return Object(m.jsx)(y,{user:e})}))}),0===e.users.length&&Object(m.jsx)("div",{children:"No Employees"})]})]});var t}function C(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0}function S(e){var t=function(){for(var e=[],t=0;t<12;t++)e.push([]);return e}();return e.forEach((function(e){var r;t[(r=e.user.dob,new Date(r)).getMonth()].push(e.user)})),t.forEach((function(e){return e.sort(C)})),t}function L(){var e=function(e){return Object.values(e).filter((function(e){return e.user})).filter((function(e){return e.active}))}(Object(n.useContext)(O));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"header",children:"Employees birthday"}),e.length>0&&S(e).map((function(e,t){return Object(m.jsx)(N,{number:t,users:e})})),0===e.length&&Object(m.jsx)("div",{children:"Employees List is empty"})]})}var E=function(e){Object(d.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={error:null,isLoaded:!1,users:[]},n}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=this;h.getUsers().then((function(t){e.setState({isLoaded:!0,users:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,r=e.isLoaded,n=e.users;return t?Object(m.jsx)("div",{children:Object(m.jsxs)("p",{children:["Error ",t.message]})}):r?Object(m.jsxs)("div",{className:"UsersPage",children:[Object(m.jsxs)("div",{className:"Users",children:[Object(m.jsx)("div",{className:"header",children:"Employees"}),Object(m.jsx)("div",{className:"user-list",children:Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map((function(e,t){return Object(m.jsx)(x,{letter:e,users:n[t]},t)}))})]}),Object(m.jsx)("div",{className:"BirthDays",children:Object(m.jsx)(L,{})})]}):Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Loading"})})}}]),r}(n.Component);var F=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),r=t[0],s=t[1];return Object(m.jsx)(O.Provider,{value:Object(u.a)(Object(u.a)({},r),{},{update:function(e,t){return s((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(i.a)({},e.id,{user:e,active:t}))}))}}),children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(E,{})})})},k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,19)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))};a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),k()}},[[18,1,2]]]);
//# sourceMappingURL=main.450347fb.chunk.js.map